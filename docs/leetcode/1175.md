# 1175.Â Prime Arrangements

--8<-- "utils/warn-math-equation-vi.md"

# â‰ï¸Â Äá» bÃ i

Tráº£ vá» sá»‘ hoÃ¡n vá»‹ cá»§a cÃ¡c sá»‘ tá»« $1$ Ä‘áº¿n $n$ sao cho cÃ¡c sá»‘ nguyÃªn tá»‘ Ä‘á»©ng á»Ÿ cÃ¡c vá»‹ trÃ­ nguyÃªn tá»‘ (vá»‹ trÃ­ Ä‘Æ°á»£c Ä‘Ã¡nh sá»‘ báº¯t Ä‘áº§u tá»« $1$). 

VÃ¬ káº¿t quáº£ cÃ³ thá»ƒ ráº¥t lá»›n nÃªn tráº£ vá» káº¿t quáº£ sau khi chia láº¥y dÆ° cho $10^9+7$.

### Input Format

- Gá»“m má»™t dÃ²ng duy nháº¥t chá»©a $n$

### Output Format

- Gá»“m má»™t dÃ²ng duy nháº¥t lÃ  káº¿t quáº£ cá»§a bÃ i toÃ¡n

### RÃ ng buá»™c

$1 \leq n \leq 100$

### VÃ­ dá»¥

**VÃ­ dá»¥ 1:**

- Input
    
    ```bash
    5
    ```
    
- Output
    
    ```bash
    12
    ```
    
- Giáº£i thÃ­ch: Cháº³ng háº¡n hoÃ¡n vá»‹ $[1, 2, 5, 4, 3]$ lÃ  má»™t hoÃ¡n vá»‹ thoáº£ mÃ£n, nhÆ°ng hoÃ¡n vá»‹ $[5, 2, 3, 4, 1]$ thÃ¬ khÃ´ng.

**VÃ­ dá»¥ 2:**

- Input
    
    ```bash
    100
    ```
    
- Output
    
    ```bash
    682289015
    ```
    

# âœ…Â Lá»i giáº£i

Giáº£ sá»­ cÃ³ $p$ sá»‘ nguyÃªn tá»‘ trong Ä‘oáº¡n tá»« $1$ Ä‘áº¿n $n$. VÃ¬ cÃ¡c sá»‘ nguyÃªn tá»‘ chá»‰ cÃ³ thá»ƒ á»Ÿ vá»‹ trÃ­ nguyÃªn tá»‘ nÃªn ta cÃ³ $p!$ cÃ¡ch chá»n vá»‹ trÃ­ cho $p$ sá»‘ nÃ y.

Vá»›i má»—i cÃ¡ch chá»n vá»‹ trÃ­ cho $p$ sá»‘ nguyÃªn tá»‘, ta cÃ³ $(n - p)!$ cÃ¡ch chá»n vá»‹ trÃ­ cho cÃ¡c sá»‘ cÃ²n láº¡i.

NhÆ° váº­y káº¿t quáº£ bÃ i toÃ¡n lÃ :

$$
p!(n-p)!
$$

vá»›i $p$ lÃ  sá»‘ sá»‘ nguyÃªn tá»‘ tá»« $1$ Ä‘áº¿n $n$.

Äá» bÃ i chá»‰ cho giá»›i háº¡n $n \leq 100$ nÃªn thÃ­ch quáº©y sÃ ng nguyÃªn tá»‘ hay cÃ¡i gÃ¬ cÅ©ng Ä‘Æ°á»£c.

# ðŸ’»Â Code

```cpp
class Solution {
public:
    const long long MOD = 1000000007;

    long long numPrimeArrangements(long long n) {

        // SÃ ng nguyÃªn tá»‘
        vector<bool> isPrime(n + 1, true);
        isPrime[0] = false;
        isPrime[1] = false;

        for (int i = 2; i * i <= n; i++) {
            if (isPrime[i])
                for (int j = i * i; j <= n; j += i) {
                    isPrime[j] = false;
                }
        }

        // Äáº¿m sá»‘ sá»‘ nguyÃªn tá»‘ trong khoáº£ng tá»« 1 Ä‘áº¿n n
        long long count = 0;
        for (long long i = 0; i <= n; i++) {
            if (isPrime[i])
                count++;
        }

        // TÃ­nh káº¿t quáº£
        long long result = 1;
        for (long long i = 1; i <= count; i++) {
            result = (result * i) % MOD;
        }
        for (long long i = 1; i <= n - count; i++) {
            result = (result * i) % MOD;
        }

        return result;
    }
};
```